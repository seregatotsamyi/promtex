window.onload=function(){"use strict";[].forEach.call(document.querySelectorAll(".tel"),function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___)-___-__-__",o=0,l=n.replace(/\D/g,""),c=this.value.replace(/\D/g,""),i=n.replace(/[_\d]/g,function(e){return o<c.length?c.charAt(o++)||l.charAt(o):e});-1!=(o=i.indexOf("_"))&&(o<5&&(o=3),i=i.slice(0,o));var d=n.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(d=new RegExp("^"+d+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)});const e=document.getElementById("body"),t=document.querySelectorAll(".popup--link"),n=document.querySelectorAll(".lock--padding"),o=document.querySelectorAll(".lock--padding--item"),l=window.innerWidth-document.querySelector(".body").offsetWidth+"px";let c=!0;const i=500;if(t.length>0)for(let e=0;e<t.length;e++){const n=t[e];n.addEventListener("click",function(e){const t=n.getAttribute("href").replace("#","");r(document.getElementById(t)),e.preventDefault()})}const d=document.querySelectorAll(".popup--close");if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e];t.addEventListener("click",function(e){s(t.closest(".popup")),e.preventDefault()})}function r(t){if(t&&c){const o=document.querySelector(".popup.open");o?s(o,!1):function(){const t=window.innerWidth-document.querySelector(".body").offsetWidth+"px";if(e.style.paddingRight=t,e.classList.add("_fixed"),c=!1,n.length>0)for(let e=0;e<n.length;e++){n[e].style.paddingRight=t}setTimeout(function(){c=!0},i)}(),t.classList.add("open"),t.addEventListener("click",function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))})}}function s(t,d){c&&(t.classList.remove("open"),void 0===d&&(setTimeout(function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];let n=parseInt(getComputedStyle(t).right)-parseInt(l)+"px";t.style.right=n}e.style.paddingRight="0px",e.classList.remove("_fixed")},i),c=!1,setTimeout(function(){c=!0},i)))}document.addEventListener("keydown",function(e){if(27===e.which){s(document.querySelectorAll(".popup.open"))}});const u=document.getElementById("menu");document.querySelectorAll(".toggle-menu").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),u.classList.toggle("_open"),e.classList.toggle("_fixed")})})};